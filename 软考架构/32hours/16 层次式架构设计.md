# 16 层次式架构设计

![image-20221019085115176](https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221019085115176.png)



# 16.1 体系结构设计

- 软件系统结构

> 软件体系结构为一个软件系统提供了**行为**、结构和**属性**的高级抽象，
>
> 主要由元素**描述**、元素的**相互作用**、指导元素的**集成模式**以及**模式约束**组成



# 16.2 表现层框架设计

## 1. 使用MVC模式设计表现层

- 优点

> 1. 允许多用户界面的扩展
> 2. 易于维护
> 3. 功能强大的用户界面

![image-20221019090305491](https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221019090305491.png)



## 2. 表现层动态生成设计思想：基于XML的界面管理技术

![image-20221019090516964](https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221019090516964.png)



# 16.3 中间层架构设计

![image-20221019090756234](https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221019090756234.png)



# 16.4 数据访问层设计（持久层架构设计）

## 1. 五种数据访问模式

1. 在线访问。是最基本的数据访问模式，也是最常用的。
2. Data Access Object。 DAO是标准J2EE设计模式之一。有以下组件：一个DAO工厂类；一个DAO接口；一个实现了DAO接口的具体类；数据传输对象。
3. Data Transfer Object。
4. 离线数据模式
5. 对象/关系映射（Object/Relation Mapping）



## 2. Hibernate设计思想

<img src="https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221019092732671.png" alt="image-20221019092732671" style="zoom:67%;" />



# 16.5 数据架构规划与设计、标准BS分层式结构

## 1. 数据为设计与XML设计融合

1. 基于文件的存储方式
2. 数据库存储方式



## 2. 标准的BS分层式结构

![image-20221019093329651](https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221019093329651.png)

---

# 题目

## 1 层次化网络设计原则

❌ 应当首先设计核心层，再根据必要的分析完成其他层次的设计



## 2 数据挖掘主要任务

- **聚类分析**
- **关联分析**
- **分类分析**
- 特异群组分析
- 异常分析
- 演变分析



## 3 数据库设计

### 1 数据库程序在线访问方式和ORM方式的优缺点，说明采用ORM方式的原因

|      | 在线访问                                                    | ORM                                                          |
| ---- | ----------------------------------------------------------- | ------------------------------------------------------------ |
| 优点 | 1 可以处理复杂的Select语句<br />2 性能比直接的SQL要优越一些 | 1 降低学习和开发成本<br />2 减少程序代码量<br />3 降低由SQL代码质量差带来的影响<br />4 程序员不用再写SQL语句进行数据库操作 |
| 缺点 | 1 修改维护上相对困难<br />2 开发的程序员必须能看懂SQL语句   | 1 处理复杂查询有一定的难度<br />2 性能比直接用SQL差一些      |



- 采用ORM的原因

> 1. 学习成本高
> 2. 缺乏数据库开发经验，因此SQL语句编写质量不能保证
> 3. 应用简单，没有复杂功能



### 2 新体系结构中增加数据访问层的原因：

> ①涉及到几种异构数据库平台，使系统对数据的访问比较复杂，不适合与业务逻辑混合在一起。
>
> ②数据管理复杂，需要编写的代码增加，分层次使逻辑更加清晰，使程序维护更灵活、更方便。
>
> ③应对异构数据库，业务逻辑也要采取相同的方式，为了做好隐蔽性，需要单独设计数据访问层。



### 3 工厂设计模式

应用程序设计中，数据库访问需要良好的封装性和可维护性，因此经常使用工厂设计模式来实现对数据库访问的封装。请解释工厂设计模式，并说明其优点和应用场景：请说明工厂模式在数据访问层中的应用。

答案：

> 工厂模式分为**工厂方法**和**抽象工厂**，本题为抽象工厂设计模式。
>
> 抽象工厂设计模式提供一个接口，无需指定它们具体的类，就可以创建一系列或相互依赖的对象。
>
> 优点：方便创建一系列的对象。该题目中，可以针对 Oracle、MySQL、SQL Server 等来分别建立抽象工厂。
>
> 假如当前工厂为 Oracle 工厂，则创建出来的数据库连接和数据集等一系列对象都要符合 Oracle 操作的要求，便于数据库之间的切换。