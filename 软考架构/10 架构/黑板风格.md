# 黑板风格

# 注册表

早期的计算机硬件和软件系统的配置信息均被各自保存在配置文件`.ini`中，这些文件散落在系统的各个角落，人们很难对其进行维护。

为此，引入注册表的思想，将所有的`.ini` 文件集中起来，形成共享仓库，为系统运行起到了**集中资源配置管理**和控制调度的作用。

注册表信息影响或控制系统和应用软件的行为，在应用软件安装、运行、卸载时对其进行添加、修改和删除信息，以达到改变系统功能和控制软件运行的目的。



# 剪贴板

剪贴板内置在Windows中，是使用系统的内部资源RAM，或虚拟内在来临时保存剪切和复制的信息，它使得在各种应用程序之间，传递和共享信息成为可能。因此，它就成为了存储、传递和交换信息的公共区域，形成共享仓库。



```bash
# 我们看到，注册表和剪贴板均像一个仓库一样，成为了计算机中存储和维护数据的重要场所。
```





# 仓库风格的体系结构的两个构件

- **中央数据结构**，用于说明当前数据的状态
- 一组对中央数据进行操作的**独立构件**



对于系统中数据和状态的控制方法有两种：

- 传统的方法——由输入事务选择进行何种处理，并把执行结果作为当前状态存储到中央数据结构中，这时，仓库是一个传统的**数据库**体系结构
- 另一种方法——由**中央数据结构的当前状态**决定进行何种处理。这时，仓库是一个黑板体系结构，即**黑板体系结构是仓库体系结构的特殊化**。



# 仓库风格和黑板风格的适应设计问题

黑板系统是传统上被用于信号处理方面，进行复杂解释的应用程序，以及松散耦合的构件访问共享数据的应用程序。

它适用于这样的系统—— **需要解决冲突并处理可能存在的不确定性，从原始数据向高层结构转换的应用问题**。 例如：

**图、表、视觉、图像识别、语言识别、预警等应用领域。**

这类问题的特点是：

当整个问题分解成子问题时，各个子问题涵盖了**不同的领域知识**和**解决方法**。每一个子问题的解决需要**不同的问题表达式**和**求解模型**。 在多数情况下，找不到确定的求解策略。这与把问题求解成多个求解部分的功能分解形成对照。

---

黑板体系结构实现的基本出发点是 **已经存在一个对公共数据结构进行协同操作的独立程序集合**。 每个这样的程序专门解决一个子问题，但需要协同工作才能共同完成整个问题的求解。这些专门程序是相互独立的，它们之间不存在互相调用，也不存在可事先确定的操作顺序。 相反，操作次序是由问题求解的**进行状态**决定的。





---

![image-20221017114800829](https://oss-kelvinvan.oss-cn-chengdu.aliyuncs.com/img/image-20221017114800829.png)



# 知识源

特定应用程序知识的独立散片。 知识源（即图中的KS）彼此之间在逻辑和物理上都是独立的，只与产生他们的应用程序有关，多个数据源之间的交互只在黑板内部发生，对外部是透明的。

把问题分成几个部分，每个部分独立计算，响应黑板上的变化。

即知识源代理（agent）就像学生一样，每个人都按照他们自己的方式，工作在他们感兴趣的方面或他们的知识己能够处理的方面，并在可能的时候向黑板添加新的知识，以供其他知识源开展进一步的工作。



# 中央数据单元

中央数据单元是整个系统的核心部件，他对系统需要解决的问题预先进行了分析和定义，总结出了系统运行过程中将要出现的多种状态，并制定了这些状态下系统的相应策略。

所以中央数据单元中的数据不只是单纯的数据信息，它们代表了某种系统的状态，属于**状态数据。**

这些数据由数据源提供，在中央数据单元中依据一定的数据结构形式组织在一起，并随着数据源信息的改变而变化，从而实现系统的功能。



# 控制器

控制单元的驱动完全是由仓库的数据状态变化承担的。知识源系统需要处理的信息源源不断的输入仓库中，导致仓库的状态信息发生变化；

当状态信息的变化符合系统**预先定义好的某些控制策略**时，相应的操作就得到了触发，也就实现了系统的功能控制。

控制器还承担着**限制知识源对黑板的访问**工作。

控制单元并不一定是独立的单元，它可以位于知识源的仓库中，或者作为一个独立部分单独存在，没有绝对的定式，需要设计者根据实际情况作出抉择



# 特点

- 它追求的是可能**随时间变化的目标**，
- 各个代理需要不同资源、关心不同问题，
- 但用一种相互协作的方式和维护共享数据结构。



# 优点

- 便于多客户共享大量数据，他们不关心数据何时有的、谁提供的、怎样提供的
- 即便于添加新的作为知识源代理的应用程序，也便于扩展共享的黑板数据结构
- 知识源可重用
- 支持容错性和健壮性



# 缺点

- 不同的知识源代理对于共享数据结构要达成一致，而且，这也造成对黑板数据结构的修改较为困难——要考虑到各个代理的调用
- 需要一定的同步/加锁机制保证数据结构的完整性和一致性，增大了系统复杂度。
- 不能保证有好的求解方案
- 低效
- 开发成本高



# 仓库风格和黑板风格示例

## 1 数据库系统

数据库系统（DBS）是由数据库及其管理软件组成的系统。它是为适应数据处理的需要而发展起来的，一种较为理想的数据处理的核心机构。它是一个实际可运行的存储、维护和应用系统提供数据的软件系统，是存储介质、处理对象和管理系统的结合体。



## 2 软件开发环境

软件开发环境（SDE）是指基本硬件和软件的基础上，为支持系统软件和应用软件的工程化开发和维护而使用的一组软件。

它由软件工具和**环境集成机制**构成，前者用以支持软件开发的相关过程、活动和任务，后者为工具集成和软件的开发、维护及管理提供统一的支持。



# 仓库风格和黑板风格应用

黑板风格是某些对人类行为进行模拟的人工智能应用系统的重要设计方法之一。

例如，语音识别、模式识别、三维分子结构建模。

最早应用黑板体系结构的也是一个人工智能领域的应用系统程序： Hearsay语音识别项目。

该系统以自然语音信号为输入，经过音乐、词汇、句法和语义等多个方面的分析，得到用户对数据库的查询请求。





