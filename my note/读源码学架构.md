# 7 事件的分散性与协议化封装

## 7.3 WebSocket事件的封装与协议化

- WebSocket
- 通信设计
- 思路抽象









# 8 基于Reactor模式的系统优化

## 8.1 抛出问题

## 8.2 问题分析

### 8.2.1 加机器

### 8.2.2 串行调用改为并发调用

### 8.2.3 预处理



## 8.3 Netty中的Reactor模式

### 8.3.1 Netty概述

### 8.3.2 BIO与NIO

### 8.3.3 Reactor编程模型

### 8.3.4 思路抽象

#### 对于原生阻塞

```bash
'直接利用操作系统的NIO/AIO能力
	'基于底层提供的API，可以是的一个或者少量的线程就可以处理大量的阻塞，
	'以提高线程资源的利用率
```



#### 对于远程系统调用

```bash
'模拟操作系统的NIO机制：
	'系统上游系统，通过上游的异步化，以及下游的批量捞取结果
		'同样可以达到「少量的线程就可以处理大量的阻塞」的目的，从而提高线程资源的利用率
```



#### 对于无法异步协同的阻塞操作

```bash
'独立部署一个阻塞请求网关代理，
	'并加大它的线程池数量
	
'代理网关模拟异步化
	'事件循环异步化模拟
	'独立部署，加大线程池数量
```





## 8.4 问题优化

### 8.4.1 方案设计

### 8.4.2 代码优化



# 8.5 总结